#+title: The DUNE TDR repository

* Repository layout

- All graphics files (JPEG, PNG, PDF) go under [[./graphics/]].  Use
  simple file name with out any directory path regardless of the
  location of ~.tex~ file.  Eg: ~\includegraphics{filename}~.

- The LaTeX content of each volume is under its own directory, eg
  [[./volume-execsum/]] except for the volume's main LaTeX file which is
  at top-level, eg [[./volume-execsum.tex]]

- Likewise, each chapter of a volume has a LaTeX file in the volume
  directory, eg [[./volume-execsum/chapter-overall.tex]].

- Chapter editors are encouraged to retain one file per chapter but if
  they must be broken up the chapter file must remain and other
  section-level files should NOT be named with a "chapter-" prefix.
  It is not required but section files can remain in the ~volume-*/~
  directory or be moved to a ~chapter-*/~ sub-directory.

- The [[common/]] directory holds important LaTeX files such as [[./common/defs.tex][defs.tex]],
  [[./common/units.tex][units.tex]], [[common/glossary.tex][glossary.tex]] and [[common/tdr-citedb.bib][tdr-citedb.bib]] which authors and editors
  should familiarize themselves with and contribute to.

- [[shared/]] holds special case LaTeX content that must appear
  identically in more than one volume.  

- [[util/]] holds some scripts that assist in building the document.

- [[generated/]] holds some files that are automatically generated and
  should not be modified directly by human editing.

* Building the documents

There are many ways to do this.  

** Official build

The full, official build method uses the provided ~waf~ command.  It
is fast, portable and performs many tasks.  Primarily the volume PDF
files are built with:

#+BEGIN_EXAMPLE
  $ ./waf configure
  $ ./waf
#+END_EXAMPLE

In addition you can build per-chapter PDFs:

#+BEGIN_EXAMPLE
  $ ./waf --chapters
#+END_EXAMPLE

The results are ~build/volume-*-chapter-*.pdf~.

You can also prepare a tar file with just the files for each volume.

#+BEGIN_EXAMPLE
  $ ./waf --arxiv
#+END_EXAMPLE

In all cases, the produced files are found under ~build/~.  


